language: node_js

node_js:
  - '8'
  - '9'

env:
  - FOO=foo
  - FOO=bar

notifications:
  email: false

before_script:
  - npm prune

jobs:
  include:
    - stage: ğŸ›  Build
      script: npm run build
    - stage: ğŸ“‹ Test
      script: npm test
    - stage: ğŸš€ Publish
      script: npm run deploy

stages:
  - ğŸ›  Build
  - ğŸ“‹ Test
  - name: ğŸš€ Publish
    if: branch = master
