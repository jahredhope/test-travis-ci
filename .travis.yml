language: node_js

notifications:
  email: false

cache: yarn

node_js:
  - '8'
  - '9'

jobs:
  include:
    - stage: ğŸ“‹ Test
      script: npm test
      node_js: '8'
      script: npm test
      node_js: '9'
    - stage: ğŸš€ Publish
      script: npm run deploy
      if: branch = master

stages:
  - ğŸ“‹ Test
  - ğŸš€ Publish
